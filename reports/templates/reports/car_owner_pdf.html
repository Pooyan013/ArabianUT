{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Car Detail</title>
<style>
    @page {
        size: A4;
        /* مارجین فوتر را افزایش دادیم تا بالاتر بیاید */
        margin: 4cm 2cm 4.5cm 2cm; 

        @top-left {
            content: element(header_left);
        }
        @top-center {
            content: element(header_center);
        }
        @top-right {
            content: element(header_right);
        }

        @bottom-right {
            content: element(footer_content);
            vertical-align: bottom;
        }
    }

    #header_left { position: running(header_left); }
    #header_center { position: running(header_center); }
    #header_right { position: running(header_right); }
    #footer_content { position: running(footer_content); }
    

    @font-face {
        font-family: 'Noto Sans Arabic';
        src: url({% static 'fonts/NotoSansArabic-Regular.ttf' %});
    }

    body {
        font-family: 'Noto Sans Arabic', sans-serif;
        font-size: 10pt;
        color: #333;
    }

    .logo {
        width: 3.5cm;
        height: auto;
    }
    .header-text-left {
        font-size: 9pt;
        text-align: left;
        direction: ltr;
    }
    .header-text-right {
        font-size: 9pt;
        text-align: right;
        direction: rtl;
    }
    .header-text-left p, .header-text-right p {
        margin: 2px 0;
    }
    
    #footer_content {
        text-align: right;
        font-size: 10pt;
        color: #555;
        line-height: 1.6;
    }
    
    .details-table {
        width: 100%;
        border-collapse: collapse;
    }
    .details-table th, .details-table td {
        padding: 10px;
        vertical-align: top;
        border: 1px solid #dee2e6;
    }
    .details-table th {
        background-color: #f8f9fa;
        text-align: left;
        width: 50%;
        font-size: 11pt;
    }
    .detail-item { margin-bottom: 5px; }
    .label { font-weight: bold; }
</style>
</head>
<body>
    <div id="header_left">
        <img src="{% static 'reports/images/logo.jpeg' %}" class="logo">
    </div>

    <div id="header_center" class="header-text-left">
        <p>TELL: +968 99220918</p>
        <p>P.O.BOX 489</p>
        <p><strong>C.R.NO :</strong> 1105997</p>
    </div>

    <div id="header_right" class="header-text-right">
        <p><strong>الشركة العربية المتحدة للخدمات الهندسیة ش م م</strong></p>
        <p><strong>UNITED ARABIAN ENGINEERING SERVICE L.L.C</strong></p>
        <p><strong>VEHICLE REPAIR AND SERVICE STATION</strong></p>
    </div>
    <div id="footer_content" dir="rtl">
        رقم الشهادة الشرطة : 2023/1/149/1/68<br>
        هاتف : 99220918<br>
        المعبيلة الصناعية 8 سلطنة عمان
    </div>

    <h2 style="text-align: center; color: #003366;">Car Details Report</h2>

    <table class="details-table">
        <thead>
            <tr>
                <th>CUSTOMER</th>
                <th>VEHICLE</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <div class="detail-item"><span class="label">TO:</span> {{ car.owner.name|default:"N/A" }}</div>
                    <div class="detail-item"><span class="label">Phone:</span> {{ car.owner.phone_number|default:"N/A" }}</div>
                </td>
                <td>
                    <div class="detail-item"><span class="label">Model:</span> {{ car.get_brand_display }} {{ car.model }} ({{ car.year }})</div>
                    <div class="detail-item"><span class="label">Color:</span> {{ car.get_color_display }}</div>
                    <div class="detail-item"><span class="label">Reg no:</span> {{ car.plate_number }}</div>
                    <div class="detail-item"><span class="label">VIN No:</span> {{ car.vin_number|default:"N/A" }}</div>
                    <div class="detail-item"><span class="label">Claim No:</span> {{ car.claim_number|default:"N/A" }}</div>
                </td>
            </tr>
        </tbody>
    </table>

</body>
</html>